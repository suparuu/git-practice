import $ from "jquery";
import { MyContext } from "./Context";
import { useState, useRef, useEffect, useContext } from "react";
import "./App.scss";

const Textbox = () => {
  const { data, setData } = useContext(MyContext);
  // console.log(data, "text박스 데이터");
  const elInput = useRef();
  const [text, setText] = useState([]),
    count = useRef(0);

  const add = (e) => {
    e.preventDefault();

    let value = { num: ++count.current, todo: elInput.current.value };

    // console.log(data);
    setData(value);
    /* setText([...text, value]); */
    // console.log(text);
    // console.log(elInput.current.value);/

    elInput.current.value = "";
    elInput.current.focus();
  };

  return (
    <div className="textbox01">
      <p>참여자등록</p>
      <form onSubmit={add}>
        <input ref={elInput} type="text" name="w" placeholder="이름?"></input>
        <button onClick={add}>저장하기</button>
      </form>
    </div>
  );
};

export default Textbox;
